<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>{% block title %} {% endblock %}</title>
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- custom css -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'home/css/styles.css' %}" />
    {% block extra_css%} {% endblock %}

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>

  </head>

  <body>
<div id="toast-container" style="position:fixed!important;top:20px!important;right:20px!important;z-index:99999!important;display:flex!important;flex-direction:column!important;gap:8px!important;pointer-events:none!important;width:auto!important;max-width:360px!important;margin:0!important;padding:0!important;background:none!important;border:none!important;">
  {% for message in messages %}
    <div class="toast-msg-{{ forloop.counter }}"
      style="box-sizing:border-box!important;display:flex!important;align-items:center!important;gap:10px!important;padding:10px 16px!important;border-radius:6px!important;font-size:13px!important;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif!important;font-weight:500!important;line-height:1.4!important;box-shadow:0 2px 12px rgba(0,0,0,0.15)!important;pointer-events:auto!important;white-space:normal!important;text-decoration:none!important;{% if 'success' in message.tags %}background:#dcfce7!important;color:#15803d!important;border-left:3px solid #22c55e!important;{% else %}background:#fee2e2!important;color:#b91c1c!important;border-left:3px solid #ef4444!important;{% endif %}"
      onanimationend="if(event.animationName==='toastOut')this.remove()">
      <span style="font-size:14px!important;flex-shrink:0!important;line-height:1!important;">
        {% if 'success' in message.tags %}✓{% else %}✕{% endif %}
      </span>
      {{ message }}
    </div>

    <style>
      .toast-msg-{{ forloop.counter }} {
        animation: toastIn 0.3s ease forwards, toastOut 0.4s ease forwards 3.5s !important;
        opacity: 0;
        transform: translateX(20px);
      }
      @keyframes toastIn {
        from { opacity: 0; transform: translateX(20px); }
        to   { opacity: 1; transform: translateX(0); }
      }
      @keyframes toastOut {
        from { opacity: 1; transform: translateX(0); }
        to   { opacity: 0; transform: translateX(20px); }
      }
    </style>
  {% endfor %}
</div>

    <!-- navbar -->
    <!-- nav button -->
    {% block navbar %}
    {% endblock %}

    <!-- header -->
    {% block header %}
    {% endblock %}
    <!-- end of header -->

    {% block content %}
    {% endblock %}

    <!-- content divider -->
    {% block content_divider %}
    {% endblock %}
    <!-- end of content divider -->

    <!-- Features section -->
    {% block feature %}
    {% endblock %}
    <!-- end of feature section -->

    <!-- about section -->
    {% block about_book %}
    {% endblock %}
    <!-- end of about section -->

    <!-- authors -->
    {% block about_author %}
    {% endblock %}
    <!-- end of authors -->

    <!-- services -->
    {% block services %}
    {% endblock %}
    <!-- end of services -->

    <!-- contact -->
    {% block contact %}
    {% endblock %}
    <!-- end of contact -->

    <!-- footer -->
    {% block footer %}
    {% endblock %}

    {% block extra_js %} {% endblock %}
    <script type="text/javascript" src="{% static 'home/js/app.js' %}" ></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body, {
      delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
        ],
        throwOnError : false
      });">

    </script>
  </body>
</html>
